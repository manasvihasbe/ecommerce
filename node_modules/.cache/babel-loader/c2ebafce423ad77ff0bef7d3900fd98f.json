{"ast":null,"code":"import _regeneratorRuntime from \"/home/manasvi/Downloads/e-commerce-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/manasvi/Downloads/e-commerce-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/home/manasvi/Downloads/e-commerce-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/home/manasvi/Downloads/e-commerce-website/src/Context/DataContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useEffect, useState } from \"react\";\nimport { API } from \"../constants\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var DataContext = /*#__PURE__*/createContext();\nexport function DataProvider(_ref) {\n  _s();\n  var children = _ref.children;\n  var _useState = useState(\"mens\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentCategory = _useState2[0],\n    setCurrentCategory = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    products = _useState4[0],\n    setProducts = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    brands = _useState6[0],\n    setBrands = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isLoadingProducts = _useState8[0],\n    setLoadingProducts = _useState8[1];\n  useEffect(function () {\n    function fetchProducts() {\n      return _fetchProducts.apply(this, arguments);\n    }\n    function _fetchProducts() {\n      _fetchProducts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                setLoadingProducts(true);\n                if (!(currentCategory === \"\")) {\n                  _context.next = 3;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 3:\n                _context.next = 5;\n                return axios.get(\"\".concat(API, \"/products/\").concat(currentCategory));\n              case 5:\n                response = _context.sent;\n                setProducts(response.data.products);\n                setBrands(response.data.brands);\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _fetchProducts.apply(this, arguments);\n    }\n    fetchProducts();\n  }, [currentCategory]);\n  useEffect(function () {\n    setLoadingProducts(false);\n  }, [products]);\n  var value = {\n    currentCategory: currentCategory,\n    isLoadingProducts: isLoadingProducts,\n    setCurrentCategory: setCurrentCategory,\n    products: products,\n    brands: brands\n  };\n  return /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 10\n  }, this);\n}\n_s(DataProvider, \"DGTZB6tRRMiqGmjKDlREjxzi2d8=\");\n_c = DataProvider;\nvar _c;\n$RefreshReg$(_c, \"DataProvider\");","map":{"version":3,"names":["createContext","useEffect","useState","API","axios","DataContext","DataProvider","children","currentCategory","setCurrentCategory","products","setProducts","brands","setBrands","isLoadingProducts","setLoadingProducts","fetchProducts","get","response","data","value"],"sources":["/home/manasvi/Downloads/e-commerce-website/src/Context/DataContext.js"],"sourcesContent":["import { createContext, useEffect, useState } from \"react\";\r\nimport { API } from \"../constants\";\r\nimport axios from \"axios\";\r\nexport const DataContext = createContext();\r\n\r\nexport function DataProvider({ children }) {\r\n  const [currentCategory, setCurrentCategory] = useState(\"mens\");\r\n  const [products, setProducts] = useState([]);\r\n  const [brands, setBrands] = useState([]);\r\n  const [isLoadingProducts, setLoadingProducts] = useState(false);\r\n  useEffect(() => {\r\n    async function fetchProducts() {\r\n      setLoadingProducts(true);\r\n      if (currentCategory === \"\") {\r\n        return;\r\n      }\r\n      const response = await axios.get(`${API}/products/${currentCategory}`);\r\n      setProducts(response.data.products);\r\n      setBrands(response.data.brands);\r\n    }\r\n    fetchProducts();\r\n  }, [currentCategory]);\r\n  useEffect(() => {\r\n    setLoadingProducts(false);\r\n  }, [products]);\r\n  const value = {\r\n    currentCategory,\r\n    isLoadingProducts,\r\n    setCurrentCategory,\r\n    products,\r\n    brands\r\n  };\r\n  return <DataContext.Provider value={value}>{children}</DataContext.Provider>;\r\n}\r\n"],"mappings":";;;;;AAAA,SAASA,aAAa,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,SAASC,GAAG,QAAQ,cAAc;AAClC,OAAOC,KAAK,MAAM,OAAO;AAAC;AAC1B,OAAO,IAAMC,WAAW,gBAAGL,aAAa,EAAE;AAE1C,OAAO,SAASM,YAAY,OAAe;EAAA;EAAA,IAAZC,QAAQ,QAARA,QAAQ;EACrC,gBAA8CL,QAAQ,CAAC,MAAM,CAAC;IAAA;IAAvDM,eAAe;IAAEC,kBAAkB;EAC1C,iBAAgCP,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArCQ,QAAQ;IAAEC,WAAW;EAC5B,iBAA4BT,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAjCU,MAAM;IAAEC,SAAS;EACxB,iBAAgDX,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAxDY,iBAAiB;IAAEC,kBAAkB;EAC5Cd,SAAS,CAAC,YAAM;IAAA,SACCe,aAAa;MAAA;IAAA;IAAA;MAAA,4EAA5B;QAAA;QAAA;UAAA;YAAA;cAAA;gBACED,kBAAkB,CAAC,IAAI,CAAC;gBAAC,MACrBP,eAAe,KAAK,EAAE;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA,OAGHJ,KAAK,CAACa,GAAG,WAAId,GAAG,uBAAaK,eAAe,EAAG;cAAA;gBAAhEU,QAAQ;gBACdP,WAAW,CAACO,QAAQ,CAACC,IAAI,CAACT,QAAQ,CAAC;gBACnCG,SAAS,CAACK,QAAQ,CAACC,IAAI,CAACP,MAAM,CAAC;cAAC;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CACjC;MAAA;IAAA;IACDI,aAAa,EAAE;EACjB,CAAC,EAAE,CAACR,eAAe,CAAC,CAAC;EACrBP,SAAS,CAAC,YAAM;IACdc,kBAAkB,CAAC,KAAK,CAAC;EAC3B,CAAC,EAAE,CAACL,QAAQ,CAAC,CAAC;EACd,IAAMU,KAAK,GAAG;IACZZ,eAAe,EAAfA,eAAe;IACfM,iBAAiB,EAAjBA,iBAAiB;IACjBL,kBAAkB,EAAlBA,kBAAkB;IAClBC,QAAQ,EAARA,QAAQ;IACRE,MAAM,EAANA;EACF,CAAC;EACD,oBAAO,QAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAEQ,KAAM;IAAA,UAAEb;EAAQ;IAAA;IAAA;IAAA;EAAA,QAAwB;AAC9E;AAAC,GA5BeD,YAAY;AAAA,KAAZA,YAAY;AAAA;AAAA"},"metadata":{},"sourceType":"module"}